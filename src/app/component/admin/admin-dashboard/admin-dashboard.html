
<!-- Header -->
<header>
  <h2>Admin Dashboard</h2>
  <p class="subtle">Quick control center for role management, validations, and compliance reporting.</p>
</header>

<!-- Stats -->
<section class="stats">
  <div class="card">
    <h3>Total Users</h3>
    <p>{{ stats?.totalUsers ?? 0 }}</p>
  </div>

  <div class="card">
    <h3>Locked Accounts</h3>
    <p>{{ stats?.lockedAccounts ?? 0 }}</p>
  </div>

  <div class="card">
    <h3>Failed Login Attempts (24h)</h3>
    <p>{{ stats?.failedLoginAttempts24h ?? 0 }}</p>
  </div>

  <div class="card">
    <h3>Pending Compliance Reports</h3>
    <p>{{ stats?.pendingComplianceReports ?? 0 }}</p>
  </div>
</section>

<!-- Quick Access / Navigation
<section class="quick-links">
  <h3>Quick Access</h3>
  <div class="grid">
    <button class="ql-card" (click)="navigateTo('users')">
      <span class="icon">ğŸ‘¥</span><span>Users</span>
    </button>

    <button class="ql-card" (click)="navigateTo('roles')">
      <span class="icon">ğŸ”</span><span>Roles</span>
    </button>

    <button class="ql-card" (click)="navigateTo('security/logins')">
      <span class="icon">ğŸ‘ï¸</span><span>Login Monitoring</span>
    </button>

    <button class="ql-card" (click)="navigateTo('validation/profile')">
      <span class="icon">âœ…</span><span>Profile Validation</span>
    </button>

    <button class="ql-card" (click)="navigateTo('validation/orders')">
      <span class="icon">ğŸ“</span><span>Order Validation</span>
    </button>

    <button class="ql-card" (click)="navigateTo('market/settings')">
      <span class="icon">â±ï¸</span><span>Market Settings</span>
    </button>

    <button class="ql-card" (click)="navigateTo('reports/compliance')">
      <span class="icon">ğŸ§¾</span><span>Compliance Reports</span>
    </button>

    <button class="ql-card" (click)="navigateTo('reports/compliance/export')">
      <span class="icon">ğŸ“¤</span><span>Export Reports (PDF)</span>
    </button>

    <button class="ql-card" (click)="navigateTo('reports/compliance/schedule')">
      <span class="icon">ğŸ—“ï¸</span><span>Schedule Reports</span>
    </button>
  </div>
</section> -->

<!-- System Health Snapshot -->
<section class="table-section">
  <h3>System Health</h3>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Market Data Last Update</th>
          <th>Price Update Interval</th>
          <th>API Failures (24h)</th>
          <th>Last Failure</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ systemHealth?.marketDataLastUpdated | date:'medium' }}</td>
          <td>{{ systemHealth?.priceUpdateInterval }} mins</td>
          <td>{{ systemHealth?.apiFailures24h ?? 0 }}</td>
          <td>{{ systemHealth?.lastApiFailureAt ? (systemHealth?.lastApiFailureAt| date:'short') : 'â€”' }}</td>
          <td [class.ok]="systemHealth?.status === 'OK'" [class.degraded]="systemHealth?.status === 'DEGRADED'">
            {{ systemHealth?.status || 'UNKNOWN' }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Validation Status -->
<section class="validation-section">
  <h3>Validation Status</h3>
  <div class="chips">
    <span class="chip" [class.enabled]="validation?.profileValidationEnabled" [class.disabled]="!validation?.profileValidationEnabled">
      Profile Validation: {{ validation?.profileValidationEnabled ? 'Enabled' : 'Disabled' }}
    </span>
    <span class="chip" [class.enabled]="validation?.orderValidationEnabled" [class.disabled]="!validation?.orderValidationEnabled">
      Order Validation: {{ validation?.orderValidationEnabled ? 'Enabled' : 'Disabled' }}
    </span>
  </div>
</section>

<!-- Recent Activity Log -->
<section class="table-section">
  <h3>Recent Activity</h3>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Event</th>
          <th>Details</th>
          <th>Actor</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of recentActivity">
          <td>{{ item.at | date:'short' }}</td>
          <td>{{ item.type }}</td>
          <td>{{ item.description }}</td>
          <td>{{ item.by }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Loading -->
