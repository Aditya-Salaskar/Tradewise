<div class="orders-page">
  <header class="orders-header">
    <h2>Order Summary</h2>
    <div class="summary-grid">
      <div class="summary-card">
        <div class="label">Total (Today)</div>
        <div class="value">{{ totalToday$ | async }}</div>
      </div>
      <!-- <div class="summary-card">
        <div class="label">Total (This Month)</div>
        <div class="value">{{ totalMonth }}</div>
      </div> -->
      <div class="summary-card">
        <div class="label">Pending</div>
        <div class="value pending">{{ pendingCount$ | async }}</div>
      </div>
      <div class="summary-card">
        <div class="label">Executed</div>
        <div class="value executed">{{ executedCount$ | async }}</div>
      </div>
      <div class="summary-card">
        <div class="label">Cancelled</div>
        <div class="value cancelled">{{ cancelledCount$ | async }}</div>
      </div>
    </div>
  </header>

  
<section class="filters">
  <div class="filter-row">
    <input placeholder="Search by Order ID or Instrument" [(ngModel)]="searchTerm" />
    <select [(ngModel)]="statusFilter">
      <option value="">All Status</option>
      <option value="PENDING">PENDING</option>
      <option value="EXECUTED">EXECUTED</option>
      <option value="CANCELLED">CANCELLED</option>
    </select>
    <label class="date">
      From <input type="date" [(ngModel)]="dateFrom" />
    </label>
    <label class="date">
      To <input type="date" [(ngModel)]="dateTo" />
    </label>
  </div>
</section>


  
<section class="table-section">
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Instrument</th>
          <th>Type</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Status</th>
          <th>Timestamp</th>
          <th>Actions</th> <!-- âœ… New Column -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let o of (filteredOrders$ | async)">
          <td>{{ o.orderId }}</td>
          <td>{{ o.instrument }}</td>
          <td>{{ o.type }}</td>
          <td>{{ o.quantity }}</td>
          <td>{{ o.price }}</td>
          <td [class.pending]="o.status==='PENDING'"
              [class.executed]="o.status==='EXECUTED'"
              [class.cancelled]="o.status==='CANCELLED'">{{ o.status }}</td>
          <td>{{ formatDate(o.timestamp) }}</td>
          
          
          <td>
            <button class="execute" (click)="executeOrder(o.orderId)" [disabled]="o.status!=='PENDING'">Execute</button>
            <button class="decline" (click)="declineOrder(o.orderId)" [disabled]="o.status!=='PENDING'">Decline</button>
          </td>


        </tr>
        <tr *ngIf="(filteredOrders$ | async)?.length === 0">
          <td colspan="8" class="empty">No orders match the filters.</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>


</div>
