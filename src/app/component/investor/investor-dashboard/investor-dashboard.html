
<header>
  <h2>Investor Dashboard</h2>
</header>

<section class="stats" *ngIf="portfolioSummary$ | async as portfolioSummary">
  <div class="card"><h3>Total Value</h3><p>₹{{ portfolioSummary.totalValue | number }}</p></div>
  <div class="card"><h3>Total Invested</h3><p>₹{{ portfolioSummary.totalInvested | number }}</p></div>
  <div class="card"><h3>Total Gain/Loss</h3><p class="gain">₹{{ portfolioSummary.totalGainLoss | number }}</p></div>
  <div class="card"><h3>Return</h3><p class="gain">+{{ portfolioSummary.gainLossPercent }}%</p></div>
</section>

<section class="table-section">
  <h3>Top Holdings</h3>
  <table>
    <thead>
      <tr><th>Symbol</th><th>Quantity</th><th>Avg Price</th><th>Current Price</th><th>Value</th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let h of holdings$ | async">
        <td>{{ h.symbol }}</td>
        <td>{{ h.quantity }}</td>
        <td>₹{{ h.avgPrice }}</td>
        <td>₹{{ h.currentPrice }}</td>
        <td>₹{{ h.value | number }}</td>
      </tr>
    </tbody>
  </table>
</section>

<section class="table-section">
  <h3>Recent Orders</h3>
  <table>
    <thead>
      <tr><th>Order ID</th><th>Symbol</th><th>Type</th><th>Quantity</th><th>Price</th><th>Status</th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let o of recentOrders$ | async">
        <td>{{ o.orderId }}</td>
        <td>{{ o.symbol }}</td>
        <td>{{ o.type }}</td>
        <td>{{ o.quantity }}</td>
        <td>₹{{ o.price }}</td>
        <td>{{ o.status }}</td>
      </tr>
    </tbody>
  </table>
</section>